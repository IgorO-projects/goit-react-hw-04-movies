(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{37:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(38),r=a.n(n),i=a(39),c=a(16),s=a(17),o=a(19),l=a(18),_=a(40),v=a.n(_),u=a(0),m="https://api.themoviedb.org/",h="87fb620a73370ec44b96cc9a35d2b84f",p=new(function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"getTrendingMovies",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(m,"3/trending/movie/day?api_key=").concat(h));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getQueryMovies",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(m,"3/search/movie?api_key=").concat(h,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieById",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(m,"3/movie/").concat(t,"?api_key=").concat(h,"&language=en-US"));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieCast",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(m,"3/movie/").concat(t,"/credits?api_key=").concat(h,"&language=en-US"));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieReview",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(m,"3/movie/").concat(t,"/reviews?api_key=").concat(h,"&language=en-US&page=1"));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),a}(u.Component))},69:function(e,t,a){e.exports={cast__list:"Cast_cast__list__13AO0",cast__actor_img:"Cast_cast__actor_img__2kJds",cast__actor_name:"Cast_cast__actor_name__-Ziwm"}},70:function(e,t,a){e.exports={reviews__list:"Reviews_reviews__list__e4jMG",reviews__author:"Reviews_reviews__author__1SQ1h"}},71:function(e,t,a){e.exports={movie__wrapper:"MovieDetailsPage_movie__wrapper__2Iddx",movie__additional:"MovieDetailsPage_movie__additional__20VDS",movie__info:"MovieDetailsPage_movie__info__28qmw",movie__poster:"MovieDetailsPage_movie__poster__2OW45",movie__title:"MovieDetailsPage_movie__title__30G8M",movie__score:"MovieDetailsPage_movie__score__Onewh",movie__overview_title:"MovieDetailsPage_movie__overview_title__3RYpS",movie__overview:"MovieDetailsPage_movie__overview__2J_Ym",movie__genres_title:"MovieDetailsPage_movie__genres_title__ux8HG",movie__genres:"MovieDetailsPage_movie__genres__2zHTB",movie__additional_list:"MovieDetailsPage_movie__additional_list__3eKQc"}},73:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return O}));var n=a(16),r=a(17),i=a(19),c=a(18),s=a(0),o=a(8),l=a(2),_=a(37),v=a(69),u=a.n(v),m=a(1),h=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={cast:[]},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;_.a.getMovieCast(t).then((function(t){e.setState({cast:t.data.cast})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.cast;return Object(m.jsx)("ul",{className:u.a.cast__list,children:e.map((function(e){return Object(m.jsxs)("li",{children:[Object(m.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.profile_path),alt:e.name,width:"100",className:u.a.cast__actor_img}),Object(m.jsx)("h3",{className:u.a.cast__actor_name,children:e.name}),Object(m.jsxs)("p",{className:u.a.cast__actor_character,children:["Character: ",e.character]})]},e.id)}))})}}]),a}(s.Component),p=a(70),d=a.n(p),j=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={reviews:[]},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;_.a.getMovieReview(t).then((function(t){e.setState({reviews:t.data.results})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.reviews;return Object(m.jsxs)(m.Fragment,{children:[0===e.length&&Object(m.jsx)("p",{children:"We don't have any reviews for this movie"}),e.length>0&&Object(m.jsx)("ul",{className:d.a.reviews__list,children:e.map((function(e){return Object(m.jsxs)("li",{children:[Object(m.jsxs)("h3",{className:d.a.reviews__author,children:["Author: ",e.author]}),Object(m.jsx)("p",{children:e.content})]},e.id)}))})]})}}]),a}(s.Component),b=a(11),f=a(71),g=a.n(f),O=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={title:null,releaseDate:null,imgUrl:null,score:null,overview:null,genres:[],id:null},e.handleBack=function(){var t;e.props.history.push((null===(t=e.props.location.state)||void 0===t?void 0:t.from)||b.a.home)},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;_.a.getMovieById(t).then((function(t){e.setState({title:t.data.title,releaseDate:t.data.release_date.split("-")[0],imgUrl:"https://image.tmdb.org/t/p/w500".concat(t.data.poster_path),score:10*t.data.vote_average,overview:t.data.overview,genres:t.data.genres,id:t.data.id})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.releaseDate,n=e.imgUrl,r=e.score,i=e.overview,c=e.genres;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:g.a.movie__wrapper,children:[Object(m.jsx)("button",{type:"button",onClick:this.handleBack,children:"back"}),Object(m.jsxs)("div",{className:g.a.movie__info,children:[Object(m.jsx)("img",{src:n,alt:t,width:250,className:g.a.movie__poster}),Object(m.jsxs)("div",{className:g.a.movie__description,children:[Object(m.jsxs)("h2",{className:g.a.movie__title,children:[t," (",a,")"]}),Object(m.jsxs)("p",{className:g.a.movie__score,children:["User Score ",r,"%"]}),Object(m.jsx)("h3",{className:g.a.movie__overview_title,children:"Overview"}),Object(m.jsx)("p",{className:g.a.movie__overview,children:i}),Object(m.jsx)("h3",{className:g.a.movie__genres_title,children:"Genres"}),Object(m.jsx)("ul",{className:g.a.movie__genres,children:c.map((function(e){return Object(m.jsx)("li",{children:e.name},e.id)}))})]})]})]}),Object(m.jsxs)("div",{className:g.a.movie__additional,children:[Object(m.jsx)("h3",{className:g.a.movie__additional_title,children:"Additional information"}),Object(m.jsxs)("ul",{className:g.a.movie__additional_list,children:[Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:{pathname:"".concat(this.props.match.url,"/cast"),state:{from:this.props.location}},children:"Cast"})}),Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:{pathname:"".concat(this.props.match.url,"/reviews"),state:{from:this.props.location}},children:"Reviews"})})]})]}),Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{path:b.a.cast,component:h}),Object(m.jsx)(l.b,{path:b.a.review,component:j})]})]})}}]),a}(s.Component)}}]);
//# sourceMappingURL=4.4ddd05e1.chunk.js.map