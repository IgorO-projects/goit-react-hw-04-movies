(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{37:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(38),a=n.n(r),c=n(39),u=n(16),o=n(17),i=n(19),s=n(18),p=n(40),v=n.n(p),h=n(0),f="https://api.themoviedb.org/",l="87fb620a73370ec44b96cc9a35d2b84f",y=new(function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"getTrendingMovies",value:function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(f,"3/trending/movie/day?api_key=").concat(l));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getQueryMovies",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(f,"3/search/movie?api_key=").concat(l,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieById",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(f,"3/movie/").concat(t,"?api_key=").concat(l,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieCast",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(f,"3/movie/").concat(t,"/credits?api_key=").concat(l,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieReview",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(f,"3/movie/").concat(t,"/reviews?api_key=").concat(l,"&language=en-US&page=1"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(h.Component))},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(8),a=n(2),c=n(1),u=Object(a.g)((function(e){var t=e.movies,n=e.location;return Object(c.jsx)("ul",{children:t.map((function(e){return Object(c.jsx)("li",{children:Object(c.jsx)(r.b,{to:{pathname:"/movies/".concat(e.id),state:{from:n}},children:e.title})},e.id)}))})}))},75:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(16),a=n(17),c=n(19),u=n(18),o=n(0),i=n(37),s=n(41),p=n(1),v=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return(e=t.call.apply(t,[this].concat(c))).state={query:"",movies:[]},e.handleSubmit=function(t){t.preventDefault(),e.fetchMoviesByQuery(e.state.query),e.setState({query:""})},e.handleChange=function(t){var n=t.currentTarget;e.setState({query:n.value})},e.fetchMoviesByQuery=function(t){i.a.getQueryMovies(t).then((function(t){e.setState({movies:t.data.results})})).catch((function(e){return console.log(e)})),e.props.history.push({pathname:e.props.location.pathname,search:"query=".concat(t)})},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){if(this.props.location.search){var e=this.props.location.search.replace("?query=","");this.fetchMoviesByQuery(e)}}},{key:"render",value:function(){var e=this.state.movies;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Movies"}),Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsx)("input",{type:"text",onChange:this.handleChange,value:this.state.query}),Object(p.jsx)("button",{children:"Search"})]}),Object(p.jsx)(s.a,{movies:e,location:this.props.location})]})}}]),n}(o.Component)}}]);
//# sourceMappingURL=6.e034dc2e.chunk.js.map